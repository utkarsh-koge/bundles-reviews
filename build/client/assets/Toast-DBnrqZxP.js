import{R as n,r as d}from"./index-C2MVcWue.js";import{u as A,c as V,v as U,b as J,S as K,a as Q,T as W}from"./hooks-DVLPNyJj.js";import{L as X,h as Y}from"./Page-D05pyoXj.js";import{u as Z,a as F}from"./use-deep-effect-D6mXDaV_.js";var G={Divider:"Polaris-Divider"};const oe=({borderColor:e="border-secondary",borderWidth:t="025"})=>{const a=e==="transparent"?e:`var(--p-color-${e})`;return n.createElement("hr",{className:G.Divider,style:{borderBlockStart:`var(--p-border-width-${t}) solid ${a}`}})};var l={Select:"Polaris-Select",disabled:"Polaris-Select--disabled",error:"Polaris-Select--error",Backdrop:"Polaris-Select__Backdrop",Input:"Polaris-Select__Input",Content:"Polaris-Select__Content",InlineLabel:"Polaris-Select__InlineLabel",Icon:"Polaris-Select__Icon",SelectedOption:"Polaris-Select__SelectedOption",Prefix:"Polaris-Select__Prefix",hover:"Polaris-Select--hover",toneMagic:"Polaris-Select--toneMagic"};const x="";function de({options:e,label:t,labelAction:a,labelHidden:s,labelInline:r,disabled:i,helpText:h,placeholder:P,id:T,name:D,value:_=x,error:u,onChange:I,onFocus:p,onBlur:m,requiredIndicator:k,tone:f}){const{value:L,toggle:b}=A(!1),M=d.useId(),c=T??M,C=r?!0:s,$=V(l.Select,u&&l.error,f&&l[U("tone",f)],i&&l.disabled),B=d.useCallback(o=>{b(),p==null||p(o)},[p,b]),H=d.useCallback(o=>{b(),m==null||m(o)},[m,b]),j=I?o=>I(o.currentTarget.value,c):void 0,v=[];h&&v.push(Y(c)),u&&v.push(`${c}Error`);let S=(e||[]).map(ee);P&&(S=[{label:P,value:x,disabled:!0},...S]);const z=r&&n.createElement(Q,{paddingInlineEnd:"100"},n.createElement(W,{as:"span",variant:"bodyMd",tone:f&&f==="magic"&&!L?"magic-subdued":"subdued",truncate:!0},t)),g=te(S,_),R=g.prefix&&n.createElement("div",{className:l.Prefix},g.prefix),q=n.createElement("div",{className:l.Content,"aria-hidden":!0,"aria-disabled":i},z,R,n.createElement("span",{className:l.SelectedOption},g.label),n.createElement("span",{className:l.Icon},n.createElement(J,{source:K}))),w=S.map(ne);return n.createElement(X,{id:c,label:t,error:u,action:a,labelHidden:C,helpText:h,requiredIndicator:k,disabled:i},n.createElement("div",{className:$},n.createElement("select",{id:c,name:D,value:_,className:l.Input,disabled:i,onFocus:B,onBlur:H,onChange:j,"aria-invalid":!!u,"aria-describedby":v.length?v.join(" "):void 0,"aria-required":k},w),q,n.createElement("div",{className:l.Backdrop})))}function y(e){return typeof e=="string"}function E(e){return typeof e=="object"&&"options"in e&&e.options!=null}function O(e){return{label:e,value:e}}function ee(e){if(y(e))return O(e);if(E(e)){const{title:t,options:a}=e;return{title:t,options:a.map(s=>y(s)?O(s):s)}}return e}function te(e,t){const a=ae(e);let s=a.find(r=>t===r.value);return s===void 0&&(s=a.find(r=>!r.hidden)),s||{value:"",label:""}}function ae(e){let t=[];return e.forEach(a=>{E(a)?t=t.concat(a.options):t.push(a)}),t}function N(e){const{value:t,label:a,prefix:s,key:r,...i}=e;return n.createElement("option",Object.assign({key:r??t,value:t},i),a)}function ne(e){if(E(e)){const{title:t,options:a}=e;return n.createElement("optgroup",{label:t,key:t},a.map(N))}return N(e)}const ue=d.memo(function(t){const a=d.useId(),{showToast:s,hideToast:r}=Z();return F(()=>(s({id:a,...t}),()=>{r({id:a})}),[t]),null});export{oe as D,de as S,ue as T};
